/*! For license information please see app.min.js.LICENSE.txt */
(()=>{"use strict";(e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})})({});const e=null;function t(){let t=window.innerWidth-document.documentElement.clientWidth;e&&t&&(e.style.paddingRight=t+"px"),document.body.classList.add("_lock")}function r(){e&&(e.style.paddingRight=""),document.body.classList.remove("_lock")}function s(e=void 0){t(),e?e.classList.add("popup--open"):console.log("Give me a popup")}function n(){let e=document.querySelector(".popup--open");e.classList.remove("popup--open"),e.addEventListener("transitionend",(()=>{document.querySelector(".header__burger--open")||document.querySelector(".header__submenu--open")||r()}),{once:!0})}function o(e){const t=e.querySelectorAll("[class$='input--required']");let r=0;for(let n=0;n<t.length;n++){"name"===t[n].getAttribute("name")&&""===t[n].value.trim()&&(t[n].closest(".form__control").classList.add("form__control--error"),r++),"phone"===t[n].getAttribute("name")&&(""===t[n].value.trim()||t[n].value.length<18)&&(t[n].closest(".form__control").classList.add("form__control--error"),r++);const o=e.querySelector("input[type='email']");"mail"===t[n].getAttribute("name")&&(""===t[n].value.trim()||""!==t[n].value.trim&&(s=o.value,!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(s).toLowerCase())))&&(t[n].closest(".form__control").classList.add("form__control--error"),r++)}var s;r?console.log("Fill req fields"):(e.classList.add("form--sending"),e.querySelectorAll("input, textarea").forEach((e=>e.disabled=!0)),setTimeout((()=>{!function(e){e.reset(),e.classList.remove("form--sending"),e.querySelectorAll(".form__control").forEach((e=>e.className="form__control")),e.querySelectorAll("input, textarea").forEach((e=>e.disabled=!1))}(e)}),200))}window.onload=function(){let e=document.querySelector(".popup--call-doctor"),i=document.querySelector(".popup--cities");const l=document.querySelector(".header"),a=l.querySelector(".header__burger"),c=l.querySelector(".header__menu-item--services"),u=c.querySelector(".header__submenu"),d=l.querySelector(".header__menu--mobile"),m=l.querySelector(".header__location"),p=l.querySelectorAll(".header__button"),_=document.querySelectorAll(".header__menu-item--prices, .header__menu-item--stocks, .column__menu-item--prices, .column__menu-item--stocks, .menu__item--stocks, .menu__item--prices");Array.from(_).forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault(),s(e)}))})),Array.from(p).forEach((e=>{let t=document.querySelector(".popup--consultation");e.addEventListener("click",(e=>s(t)))})),u.addEventListener("click",(t=>{t.target.closest(".submenu__service-link")&&(t.preventDefault(),s(e))})),c.addEventListener("click",(e=>{e.target.closest(".submenu__backdrop")?(u.className="header__submenu header__submenu--close",u.firstElementChild.addEventListener("transitionend",(()=>{r(),u.classList.remove("header__submenu--close")}),{once:!0})):e.target.closest(".header__submenu")||(u.classList.contains("header__submenu--open")?(u.className="header__submenu header__submenu--close",u.firstElementChild.addEventListener("transitionend",(()=>{r(),u.classList.remove("header__submenu--close")}),{once:!0})):u.classList.contains("header__submenu--close")||(t(),u.classList.add("header__submenu--open")))})),a.addEventListener("click",(()=>{a.classList.contains("header__burger--open")?(r(),Array.from(d.querySelectorAll(".menu__list--submenu-open")).forEach((e=>{e.classList.remove("menu__list--submenu-open")})),Array.from(d.querySelectorAll(".menu--open")).forEach((e=>{e.classList.remove("menu--open")}))):(t(),window.scrollTo(0,0)),a.classList.toggle("header__burger--open"),d.classList.toggle("menu--open")})),d.addEventListener("click",(t=>{let r=3===t.target.closest(".menu__item").childElementCount;return 1===t.target.closest(".menu__item").childElementCount&&t.target.closest(".menu__submenu")?(t.preventDefault(),void s(e)):r?t.target.closest(".menu__back-button")?(t.target.closest(".menu--open").classList.remove("menu--open"),void t.target.closest(".menu__list").classList.remove("menu__list--submenu-open")):(t.preventDefault(),t.target.closest(".menu__list").classList.add("menu__list--submenu-open"),void t.target.closest(".menu__item").querySelector(".menu").classList.add("menu--open")):void 0})),window.matchMedia("(max-width: 1280px)").addEventListener("change",(e=>{!e.matches&&a.classList.contains("header__burger--open")&&(Array.from(document.querySelectorAll(".submenu.menu--open")).forEach((e=>e.classList.remove("menu--open"))),d.querySelector(".menu__list--submenu-open")?.classList.remove("menu__list--submenu-open"),d.classList.remove("menu--open"),a.classList.remove("header__burger--open"))})),m.addEventListener("click",(e=>{s(i)})),Array.from(document.querySelectorAll(".hero-slide__call-doctor")).forEach((t=>{t.addEventListener("click",(t=>{s(e)}))}));let f=document.querySelector(".services__list");f&&f.addEventListener("click",(t=>{t.target.closest(".services__service-item")&&(t.preventDefault(),s(e))}));let v=document.querySelector(".our-transport .swiper-wrapper");v&&v.addEventListener("click",(e=>{if(!e.target.closest(".transport"))return;let t=document.querySelector(".popup--gallery"),r=e.target.closest("img").getAttribute("src");t.querySelector("img").setAttribute("src",r),s(t)}));const w=document.querySelector(".our-advantages__about-more");w&&w.addEventListener("click",(t=>s(e)));const h=document.querySelector(".faq__make-question button");if(h&&h.addEventListener("click",(t=>s(e))),document.querySelectorAll(".accordion__header").forEach((e=>{let t;e.addEventListener("click",(r=>{const s=e.parentElement,n=e.nextElementSibling,o=n.firstElementChild;if(s.classList.contains("accordion--open")){let e=n.scrollHeight;n.style.height=e+"px",s.classList.remove("accordion--open"),t=setTimeout((()=>n.style.height=""))}else clearTimeout(t),t=null,s.classList.add("accordion--open"),n.style.height=o.offsetHeight+"px",n.addEventListener("transitionend",(()=>{t||(n.style.height="auto")}),{once:!0})}))})),document.querySelector(".article")){const T=document.querySelector(".article"),V=T.querySelector(".article__text"),M=T.querySelector(".article__more"),H=parseFloat(getComputedStyle(V).maxHeight);function C(e){const t=e.querySelector("span"),r=e.classList[1];e.classList.contains(r+"--open")?(e.classList.remove(r+"--open"),t.innerHTML="Читать полностью"):(e.classList.add(r+"--open"),t.innerHTML="Свернуть текст")}function D(e){const t=e.classList[1],r=V,s=M;r.offsetHeight<r.scrollHeight?!e.classList.contains(t+"--hide")&&e.classList.add(t+"--hide"):e.classList.contains(t+"--open")?r.offsetHeight<=H&&(e.classList.remove(`${t}--hide`),e.classList.remove(`${t}--open`),s.querySelector("span").innerHTML="Читать полностью"):e.classList.remove(`${t}--hide`)}D(T),M.addEventListener("click",(()=>C(T))),window.addEventListener("resize",(()=>{D(T)}))}const g=document.querySelector(".help-when__case a");g&&g.addEventListener("click",(e=>{let t=document.querySelector(".popup--cases");e.preventDefault(),s(t)}));let y=new IntersectionObserver(((e,t)=>{e.forEach((e=>{const r=e.target,s=r.querySelector("[data-digit-counter]");var n;s&&(n=s)&&function(e){let t=null;const r=parseInt(e.innerHTML),s=n=>{t||(t=n);const o=Math.min((n-t)/1200,1);e.innerHTML=Math.floor(o*r),o<1&&window.requestAnimationFrame(s)};window.requestAnimationFrame(s)}(n),e.isIntersecting&&t.unobserve(r)}))}),{threshold:.3});const b=document.querySelectorAll(".our-advantages__about-col:last-child .stat");b.length&&Array.from(b).forEach((e=>y.observe(e)));let L=document.querySelector(".certificates .swiper-wrapper");if(L&&L.addEventListener("click",(e=>{if(!e.target.closest(".certificate__image-wrapper"))return;let t=document.querySelector(".popup--gallery"),r=e.target.closest("img").getAttribute("src");t.querySelector("img").setAttribute("src",r),s(t)})),document.querySelector(".tab")){let I=document.querySelector(".tab__panel");const N=document.querySelector(".tab__head"),F=I.nextElementSibling;I.addEventListener("click",(e=>{if(e.target.closest(".tab__head")&&I.classList.toggle("tab__panel--open"),!e.target.closest(".tab__button"))return;const t=e.target.closest(".tab__button");I.querySelector(".tab__button--active").classList.remove("tab__button--active"),t.classList.add("tab__button--active"),N.querySelector("span").innerHTML=t.innerHTML,I.classList.remove("tab__panel--open"),F.querySelector(".tab__page--active").classList.remove("tab__page--active"),F.querySelector(".prices__services--"+t.dataset.category).classList.add("tab__page--active")}))}const S=document.querySelector(".footer"),E=S.querySelector(".footer__menu"),q=window.matchMedia("(max-width: 768px)");if(E.addEventListener("click",(t=>{let r=t.target;r.closest(".column--main")||(q.matches&&r.closest(".column__header")&&r.closest(".column").classList.toggle("column--open"),r.closest(".column__menu-link")&&(t.preventDefault(),s(e)))})),q.addEventListener("change",(e=>{if(e.matches){let e=S.querySelectorAll(".column--open");Array.from(e).forEach((e=>e.classList.remove("column--open")))}})),window.LocomotiveScroll){let j=new LocomotiveScroll,$=document.querySelectorAll(".header__menu-item--contacts a, .column__menu-item--contacts, .menu__item--contacts"),z=document.querySelector("section.call-us"),W=document.querySelectorAll(".header__menu-item--about, .column__menu-item--about, .menu__item--about"),Y=document.querySelector("section.our-advantages"),Z=document.querySelectorAll(".header__menu-item--reviews, .column__menu-item--reviews, .menu__item--reviews"),J=document.querySelector("section.about-us");function R(e,t){Array.from(e).forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),d.classList.contains("menu--open")?(d.classList.remove("menu--open"),a.classList.remove("header__burger--open"),r(),d.addEventListener("transitionend",(()=>{j.scrollTo(t,{duration:800})}),{once:!0})):j.scrollTo(t,{duration:800})}))}))}if(document.querySelector(".content__nav")){let G=document.querySelectorAll(".nav__menu-link"),Q=document.querySelectorAll(".content .content__block"),X=0,K=0;G.forEach((e=>{let t=e.getAttribute("href");const r=document.getElementById(t.slice(1));e.addEventListener("click",(e=>{e.preventDefault(),j.scrollTo(r,{offset:-100,duration:800})}))})),window.addEventListener("scroll",(()=>{let e=window.pageYOffset;if(e>X){if(K===Q.length-1)return;e>=Q[K+1].offsetTop-window.innerHeight/2&&(G[K].parentElement.classList.remove("nav__menu-item--active"),G[K+1].parentElement.classList.add("nav__menu-item--active"),K+=1)}else{if(0===K)return;Q[K].offsetTop-window.innerHeight/2>=e&&(G[K].parentElement.classList.remove("nav__menu-item--active"),G[K-1].parentElement.classList.add("nav__menu-item--active"),K-=1),1==K&&e<=30&&(G[K].parentElement.classList.remove("nav__menu-item--active"),G[K-1].parentElement.classList.add("nav__menu-item--active"),K-=1)}X=e}))}R($,z),R(W,Y),R(Z,J)}if(window.Fancybox){Fancybox.bind("[data-fancybox]",{});let U=document.querySelectorAll("[data-fancybox-youtube]");Array.from(U).forEach((e=>{let t=!(!(r=e.getAttribute("href").match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/))||11!=r[7].length)&&r[7];var r;e.querySelector("img").setAttribute("src",`https://img.youtube.com/vi/${t}/hqdefault.jpg`)}))}if(window.Swiper){new Swiper(".hero__swiper",{slidesPerView:1,speed:800,loop:!0,parallax:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev",hideOnClick:!0},pagination:{el:".swiper-pagination",clickable:!0}});let ee=null,te=window.matchMedia("(max-width: 992px");const re=e=>{e.matches?ee=new Swiper(".services__swiper",{slidesPerView:"auto",spaceBetween:10,slidesOffsetBefore:20,slidesOffsetAfter:20,breakpoints:{769:{spaceBetween:15}}}):ee?.destroy()};te.addEventListener("change",re),re(te),new Swiper(".our-doctors__swiper",{slidesPerView:"auto",spaceBetween:10,slidesOffsetBefore:20,slidesOffsetAfter:20,breakpoints:{769:{slidesPerView:3,spaceBetween:15,slidesOffsetBefore:0,slidesOffsetAfter:0},1280:{slidesPerView:4,slidesOffsetBefore:0,slidesOffsetAfter:0}},navigation:{nextEl:".our-doctors .swiper-button-next",prevEl:".our-doctors .swiper-button-prev"}}),new Swiper(".our-transport__swiper",{slidesPerView:"auto",spaceBetween:10,slidesOffsetBefore:20,slidesOffsetAfter:20,breakpoints:{769:{slidesPerView:2,spaceBetween:15,slidesOffsetBefore:0,slidesOffsetAfter:0},992:{slidesPerView:2.5,slidesOffsetBefore:0,slidesOffsetAfter:0},1280:{slidesPerView:3,slidesOffsetBefore:0,slidesOffsetAfter:0}},navigation:{nextEl:".our-transport .swiper-button-next",prevEl:".our-transport .swiper-button-prev"}}),new Swiper(".help-how__steps",{slidesPerView:"auto",slidesOffsetAfter:20,slidesOffsetBefore:20,spaceBetween:4,breakpoints:{993:{slidesPerView:3,slidesOffsetAfter:0,slidesOffsetBefore:0},1280:{slidesPerView:4,slidesOffsetAfter:0,slidesOffsetBefore:0}}}),new Swiper(".our-advantages__about-swiper",{slidesPerView:"auto",spaceBetween:10,observeParents:!0,observeSlideChildren:!0,observer:!0}),new Swiper(".reviews__swiper",{slidesPerView:"auto",spaceBetween:20,centeredSlides:!0,speed:580,breakpoints:{768:{slidesPerView:1}},navigation:{nextEl:".reviews .swiper-button-next",prevEl:".reviews .swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0}}),new Swiper(".certificates__swiper",{slidesPerView:"auto",spaceBetween:4,breakpoints:{992:{slidesPerView:"auto"}},navigation:{nextEl:".certificates .swiper-button-next",prevEl:".certificates .swiper-button-prev"}}),new Swiper(".about__swiper",{slidesPerView:1.4,spaceBetween:10,breakpoints:{576:{slidesPerView:2},768:{slidesPerView:2.35},992:{slidesPerView:5,spaceBetween:0}}}),new Swiper(".values__swiper",{slidesPerView:"auto",spaceBetween:4,breakpoints:{768:{slidesPerView:2.25},993:{slidesPerView:3},1360:{slidesPerView:4}}})}const A=document.querySelectorAll(".form__input"),k=document.querySelectorAll(".form__input[name='phone']"),x=document.querySelectorAll(".form__input[name='name']"),O="form__control";Array.from(A).forEach((e=>{let t=e.closest("."+O);e.addEventListener("input",(()=>{t.classList.contains(O+"--error")&&t.classList.remove(O+"--error")})),e.addEventListener("change",(()=>{""!==e.value.trim()?t.classList.add("form__control--filled"):t.classList.remove("form__control--filled")}))})),Array.from(k).forEach((e=>{e.addEventListener("keypress",(e=>{const t=e.target.value.length;if(e.charCode<48||e.charCode>57||t>17)e.preventDefault();else switch(t){case 0:e.target.value="+7 (";break;case 7:e.target.value+=")-";break;case 12:case 15:e.target.value+="-"}})),e.addEventListener("input",(e=>{3===e.target.value.length&&(e.target.value="")}))})),Array.from(x).forEach((e=>{e.addEventListener("keypress",(e=>{e.target.value.length,e.charCode>=48&&e.charCode<=57&&e.preventDefault()}))}));for(let se=0;se<document.forms.length;se++)document.forms[se].addEventListener("submit",(e=>{e.preventDefault(),o(e.target)}));document.querySelector(".form__file-input")?.addEventListener("change",(e=>{if(e.target.files[0].size>104857600)return void alert("Размер файла не должен превышать 30 MB");const t=e.target.closest(".form__file");t.querySelector(".form__file-doc .text").innerHTML=e.target.files[0].name,t.classList.add("form__file_attached"),t.querySelector(".form__file-doc button").addEventListener("click",(()=>{e.target.value="",t.classList.remove("form__file_attached")}),{once:!0})}));let P=document.querySelector(".popup__cities"),B=i.querySelectorAll(".popup__city");i.querySelector(".form__input").addEventListener("input",(e=>{let t=Array.from(B).filter((t=>-1!==t.querySelector("span").innerHTML.toLowerCase().indexOf(e.target.value.toLowerCase())));P.innerHTML="",t.length?t.forEach((e=>P.insertAdjacentElement("beforeend",e))):P.innerHTML="\n                <div>По вашему запросу ничего не найдено</div>\n            "})),P.addEventListener("click",(e=>{if(!e.target.closest(".popup__city"))return;let t=e.target.closest(".popup__city");P.querySelector(".popup__city--active").classList.remove("popup__city--active"),t.classList.add("popup__city--active"),n(),m.querySelector(".header__location-title").innerHTML=t.querySelector("span").innerHTML})),document.querySelectorAll(".popup__close").forEach((e=>e.addEventListener("click",n))),document.querySelectorAll(".popup").forEach((e=>e.addEventListener("click",(e=>{e.target.closest(".popup__content")||n()})))),document.addEventListener("keydown",(e=>{27===e.which&&n()})),window.mapboxgl&&function(e){let t=document.getElementById(e),r=t?.dataset.center?.split(",").map(Number)||[49.123356,55.782238];mapboxgl.accessToken="pk.eyJ1Ijoic2V2YS1hYWNjZW50IiwiYSI6ImNsd3lubWViZTFwMDAycXNhbm4yN3p4am0ifQ.puvbO9AAr4Jf8ude29ST7g",new mapboxgl.Map({container:e,center:r,zoom:12}),t.dataset}("map")}})();
//# sourceMappingURL=app.min.js.map