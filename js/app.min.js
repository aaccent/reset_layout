/*! For license information please see app.min.js.LICENSE.txt */
(()=>{"use strict";(e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})})({});const e=null;function t(){let t=window.innerWidth-document.documentElement.clientWidth;e&&t&&(e.style.paddingRight=t+"px"),document.body.classList.add("_lock")}function r(){e&&(e.style.paddingRight=""),document.body.classList.remove("_lock")}function s(e=void 0){t(),e?e.classList.add("popup--open"):console.log("Give me a popup")}function o(){let e=document.querySelector(".popup--open");e.classList.remove("popup--open"),e.addEventListener("transitionend",(()=>{document.querySelector(".header__burger--open")||document.querySelector(".header__submenu--open")||r()}),{once:!0})}function n(e){const t=e.querySelectorAll("[class$='input--required']");let r=0;for(let e=0;e<t.length;e++)"name"===t[e].getAttribute("name")&&""===t[e].value.trim()&&(t[e].closest(".form__control").classList.add("form__control--error"),r++),"phone"===t[e].getAttribute("name")&&(""===t[e].value.trim()||t[e].value.length<18)&&(t[e].closest(".form__control").classList.add("form__control--error"),r++);r?console.log("Fill req fields"):(e.classList.add("form--sending"),e.querySelectorAll("input, textarea").forEach((e=>e.disabled=!0)),setTimeout((()=>{!function(e){e.reset(),e.classList.remove("form--sending"),e.querySelectorAll(".form__control").forEach((e=>e.className="form__control")),e.querySelectorAll("input, textarea").forEach((e=>e.disabled=!1))}(e)}),200))}window.onload=function(){let e=document.querySelector(".popup--call-doctor");const i=document.querySelector(".header"),l=i.querySelector(".header__burger"),c=i.querySelector(".header__menu-item--services"),a=c.querySelector(".header__submenu"),u=i.querySelector(".header__menu--mobile"),d=i.querySelectorAll(".header__button"),m=document.querySelectorAll(".header__menu-item--prices, .header__menu-item--stocks, .column__menu-item--prices, .column__menu-item--stocks, .menu__item--stocks, .menu__item--prices");Array.from(m).forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault(),s(e)}))})),Array.from(d).forEach((e=>{let t=document.querySelector(".popup--consultation");e.addEventListener("click",(e=>s(t)))})),a.addEventListener("click",(t=>{t.target.closest(".submenu__service-link")&&(t.preventDefault(),s(e))})),c.addEventListener("click",(e=>{e.target.closest(".submenu__backdrop")?(a.className="header__submenu header__submenu--close",a.firstElementChild.addEventListener("transitionend",(()=>{r(),a.classList.remove("header__submenu--close")}),{once:!0})):e.target.closest(".header__submenu")||(a.classList.contains("header__submenu--open")?(a.className="header__submenu header__submenu--close",a.firstElementChild.addEventListener("transitionend",(()=>{r(),a.classList.remove("header__submenu--close")}),{once:!0})):a.classList.contains("header__submenu--close")||(t(),a.classList.add("header__submenu--open")))})),l.addEventListener("click",(()=>{l.classList.contains("header__burger--open")?(r(),Array.from(u.querySelectorAll(".menu__list--submenu-open")).forEach((e=>{e.classList.remove("menu__list--submenu-open")})),Array.from(u.querySelectorAll(".menu--open")).forEach((e=>{e.classList.remove("menu--open")}))):(t(),window.scrollTo(0,0)),l.classList.toggle("header__burger--open"),u.classList.toggle("menu--open")})),u.addEventListener("click",(t=>{let r=3===t.target.closest(".menu__item").childElementCount;return 1===t.target.closest(".menu__item").childElementCount&&t.target.closest(".menu__submenu")?(t.preventDefault(),void s(e)):r?t.target.closest(".menu__back-button")?(t.target.closest(".menu--open").classList.remove("menu--open"),void t.target.closest(".menu__list").classList.remove("menu__list--submenu-open")):(t.preventDefault(),t.target.closest(".menu__list").classList.add("menu__list--submenu-open"),void t.target.closest(".menu__item").querySelector(".menu").classList.add("menu--open")):void 0})),window.matchMedia("(max-width: 1280px)").addEventListener("change",(e=>{!e.matches&&l.classList.contains("header__burger--open")&&(Array.from(document.querySelectorAll(".submenu.menu--open")).forEach((e=>e.classList.remove("menu--open"))),u.querySelector(".menu__list--submenu-open")?.classList.remove("menu__list--submenu-open"),u.classList.remove("menu--open"),l.classList.remove("header__burger--open"))})),Array.from(document.querySelectorAll(".hero-slide__call-doctor")).forEach((t=>{t.addEventListener("click",(t=>{s(e)}))})),document.querySelector(".services__list").addEventListener("click",(t=>{t.target.closest(".services__service-item")&&(t.preventDefault(),s(e))})),document.querySelector(".our-transport .swiper-wrapper").addEventListener("click",(e=>{if(!e.target.closest(".transport"))return;let t=document.querySelector(".popup--gallery"),r=e.target.closest("img").getAttribute("src");t.querySelector("img").setAttribute("src",r),s(t)})),document.querySelector(".our-advantages__about-more").addEventListener("click",(t=>s(e))),document.querySelector(".faq__make-question button").addEventListener("click",(t=>s(e))),document.querySelectorAll(".accordion__header").forEach((e=>{let t;e.addEventListener("click",(r=>{const s=e.parentElement,o=e.nextElementSibling,n=o.firstElementChild;if(s.classList.contains("accordion--open")){let e=o.scrollHeight;o.style.height=e+"px",s.classList.remove("accordion--open"),t=setTimeout((()=>o.style.height=""))}else clearTimeout(t),t=null,s.classList.add("accordion--open"),o.style.height=n.offsetHeight+"px",o.addEventListener("transitionend",(()=>{t||(o.style.height="auto")}),{once:!0})}))}));const p=document.querySelector(".faq__about-article"),_=p.querySelector(".article__text"),f=p.querySelector(".article__more"),v=parseFloat(getComputedStyle(_).maxHeight);function h(e){const t=e.classList[1],r=_,s=f;r.offsetHeight<r.scrollHeight?!e.classList.contains(t+"--hide")&&e.classList.add(t+"--hide"):e.classList.contains(t+"--open")?r.offsetHeight<=v&&(e.classList.remove(`${t}--hide`),e.classList.remove(`${t}--open`),s.querySelector("span").innerHTML="Читать полностью"):e.classList.remove(`${t}--hide`)}h(p),f.addEventListener("click",(()=>function(e){const t=e.querySelector("span"),r=e.classList[1];e.classList.contains(r+"--open")?(e.classList.remove(r+"--open"),t.innerHTML="Читать полностью"):(e.classList.add(r+"--open"),t.innerHTML="Свернуть текст")}(p))),window.addEventListener("resize",(()=>{h(p)})),document.querySelector(".help__when-case a").addEventListener("click",(e=>{let t=document.querySelector(".popup--cases");e.preventDefault(),s(t)}));let w=new IntersectionObserver(((e,t)=>{e.forEach((e=>{const r=e.target,s=r.querySelector("[data-digit-counter]");var o;s&&(o=s)&&function(e){let t=null;const r=parseInt(e.innerHTML),s=o=>{t||(t=o);const n=Math.min((o-t)/1200,1);e.innerHTML=Math.floor(n*r),n<1&&window.requestAnimationFrame(s)};window.requestAnimationFrame(s)}(o),e.isIntersecting&&t.unobserve(r)}))}),{threshold:.3});const g=document.querySelectorAll(".our-advantages__about-col:last-child .stat");g.length&&Array.from(g).forEach((e=>w.observe(e))),document.querySelector(".certificates .swiper-wrapper").addEventListener("click",(e=>{if(!e.target.closest(".certificate__image-wrapper"))return;let t=document.querySelector(".popup--gallery"),r=e.target.closest("img").getAttribute("src");t.querySelector("img").setAttribute("src",r),s(t)}));const y=document.querySelector(".footer"),b=y.querySelector(".footer__menu"),L=window.matchMedia("(max-width: 768px)");if(b.addEventListener("click",(t=>{let r=t.target;r.closest(".column--main")||(L.matches&&r.closest(".column__header")&&r.closest(".column").classList.toggle("column--open"),r.closest(".column__menu-link")&&(t.preventDefault(),s(e)))})),L.addEventListener("change",(e=>{if(e.matches){let e=y.querySelectorAll(".column--open");Array.from(e).forEach((e=>e.classList.remove("column--open")))}})),window.LocomotiveScroll){let k=new LocomotiveScroll,x=document.querySelectorAll(".header__menu-item--contacts a, .column__menu-item--contacts, .menu__item--contacts"),O=document.querySelector("section.call-us"),B=document.querySelectorAll(".header__menu-item--about, .column__menu-item--about, .menu__item--about"),P=document.querySelector("section.our-advantages"),V=document.querySelectorAll(".header__menu-item--reviews, .column__menu-item--reviews, .menu__item--reviews"),T=document.querySelector("section.about-us");function C(e,t){Array.from(e).forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),u.classList.contains("menu--open")?(u.classList.remove("menu--open"),l.classList.remove("header__burger--open"),r(),u.addEventListener("transitionend",(()=>{k.scrollTo(t,{duration:800})}),{once:!0})):k.scrollTo(t,{duration:800})}))}))}C(x,O),C(B,P),C(V,T)}if(window.Fancybox){Fancybox.bind("[data-fancybox]",{});let M=document.querySelectorAll("[data-fancybox-youtube]");Array.from(M).forEach((e=>{let t=!(!(r=e.getAttribute("href").match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/))||11!=r[7].length)&&r[7];var r;e.querySelector("img").setAttribute("src",`https://img.youtube.com/vi/${t}/hqdefault.jpg`)}))}if(window.Swiper){new Swiper(".hero__swiper",{slidesPerView:1,speed:800,loop:!0,parallax:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev",hideOnClick:!0},pagination:{el:".swiper-pagination",clickable:!0}});let D=null,H=window.matchMedia("(max-width: 992px");const F=e=>{e.matches?D=new Swiper(".services__swiper",{slidesPerView:"auto",spaceBetween:10,slidesOffsetBefore:20,slidesOffsetAfter:20,breakpoints:{769:{spaceBetween:15}}}):D?.destroy()};H.addEventListener("change",F),F(H),new Swiper(".our-doctors__swiper",{slidesPerView:"auto",spaceBetween:10,slidesOffsetBefore:20,slidesOffsetAfter:20,breakpoints:{769:{slidesPerView:3,spaceBetween:15,slidesOffsetBefore:0,slidesOffsetAfter:0},1280:{slidesPerView:4,slidesOffsetBefore:0,slidesOffsetAfter:0}},navigation:{nextEl:".our-doctors .swiper-button-next",prevEl:".our-doctors .swiper-button-prev"}}),new Swiper(".our-transport__swiper",{slidesPerView:"auto",spaceBetween:10,slidesOffsetBefore:20,slidesOffsetAfter:20,breakpoints:{769:{slidesPerView:2,spaceBetween:15,slidesOffsetBefore:0,slidesOffsetAfter:0},992:{slidesPerView:2.5,slidesOffsetBefore:0,slidesOffsetAfter:0},1280:{slidesPerView:3,slidesOffsetBefore:0,slidesOffsetAfter:0}},navigation:{nextEl:".our-transport .swiper-button-next",prevEl:".our-transport .swiper-button-prev"}}),new Swiper(".help__how-steps",{slidesPerView:"auto",slidesOffsetAfter:20,slidesOffsetBefore:20,spaceBetween:4,breakpoints:{993:{slidesPerView:3,slidesOffsetAfter:0,slidesOffsetBefore:0},1280:{slidesPerView:4,slidesOffsetAfter:0,slidesOffsetBefore:0}}}),new Swiper(".our-advantages__about-swiper",{slidesPerView:"auto",spaceBetween:10,observeParents:!0,observeSlideChildren:!0,observer:!0}),new Swiper(".reviews__swiper",{slidesPerView:"auto",spaceBetween:20,centeredSlides:!0,speed:580,breakpoints:{768:{slidesPerView:1}},navigation:{nextEl:".reviews .swiper-button-next",prevEl:".reviews .swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0}}),new Swiper(".certificates__swiper",{slidesPerView:"auto",spaceBetween:4,breakpoints:{992:{slidesPerView:"auto"}},navigation:{nextEl:".certificates .swiper-button-next",prevEl:".certificates .swiper-button-prev"}})}const S=document.querySelectorAll(".form__input"),E=document.querySelectorAll(".form__input[name='phone']"),q=document.querySelectorAll(".form__input[name='name']"),A="form__control";Array.from(S).forEach((e=>{let t=e.closest("."+A);e.addEventListener("input",(()=>{t.classList.contains(A+"--error")&&t.classList.remove(A+"--error")})),e.addEventListener("change",(()=>{""!==e.value.trim()?t.classList.add("form__control--filled"):t.classList.remove("form__control--filled")}))})),Array.from(E).forEach((e=>{e.addEventListener("keypress",(e=>{const t=e.target.value.length;if(e.charCode<48||e.charCode>57||t>17)e.preventDefault();else switch(t){case 0:e.target.value="+7 (";break;case 7:e.target.value+=")-";break;case 12:case 15:e.target.value+="-"}})),e.addEventListener("input",(e=>{3===e.target.value.length&&(e.target.value="")}))})),Array.from(q).forEach((e=>{e.addEventListener("keypress",(e=>{e.target.value.length,e.charCode>=48&&e.charCode<=57&&e.preventDefault()}))}));for(let $=0;$<document.forms.length;$++)document.forms[$].addEventListener("submit",(e=>{e.preventDefault(),n(e.target)}));document.querySelectorAll(".popup__close").forEach((e=>e.addEventListener("click",o))),document.querySelectorAll(".popup").forEach((e=>e.addEventListener("click",(e=>{e.target.closest(".popup__content")||o()})))),document.addEventListener("keydown",(e=>{27===e.which&&o()}))}})();
//# sourceMappingURL=app.min.js.map