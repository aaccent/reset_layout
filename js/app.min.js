/*! For license information please see app.min.js.LICENSE.txt */
(()=>{"use strict";(e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})})({});const e=null;function t(){let t=window.innerWidth-document.documentElement.clientWidth;e&&t&&(e.style.paddingRight=t+"px"),document.body.classList.add("_lock")}function r(){e&&(e.style.paddingRight=""),document.body.classList.remove("_lock")}function s(e=void 0){t(),e?e.classList.add("popup--open"):console.log("Give me a popup")}function o(e=null){e||(e=document.querySelector(".popup--open")),e.classList.remove("popup--open"),e.addEventListener("transitionend",(()=>{document.querySelector(".header__burger--open")||document.querySelector(".header__submenu--open")||r()}),{once:!0})}function n(e){const t=e.querySelectorAll("[class$='input--required']");let r=0;for(let o=0;o<t.length;o++){"name"===t[o].getAttribute("name")&&""===t[o].value.trim()&&(t[o].closest(".form__control").classList.add("form__control--error"),r++),"phone"===t[o].getAttribute("name")&&(""===t[o].value.trim()||t[o].value.length<18)&&(t[o].closest(".form__control").classList.add("form__control--error"),r++);const n=e.querySelector("input[type='email']");"mail"===t[o].getAttribute("name")&&(""===t[o].value.trim()||""!==t[o].value.trim&&(s=n.value,!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(s).toLowerCase())))&&(t[o].closest(".form__control").classList.add("form__control--error"),r++)}var s;r?console.log("Fill req fields"):(e.classList.add("form--sending"),e.querySelectorAll("input, textarea").forEach((e=>e.disabled=!0)),setTimeout((()=>{!function(e){e.reset(),e.classList.remove("form--sending"),e.querySelectorAll(".form__control").forEach((e=>e.className="form__control")),e.querySelectorAll("input, textarea").forEach((e=>e.disabled=!1))}(e)}),200))}window.onload=function(){let e=document.querySelector(".popup--call-doctor"),i=document.querySelector(".popup--cities");const a=document.querySelector(".header"),l=a.querySelector(".header__burger"),c=a.querySelector(".header__menu-item--services"),u=c.querySelector(".header__submenu"),d=a.querySelector(".header__menu--mobile"),m=a.querySelectorAll(".header__location"),p=a.querySelectorAll(".header__button"),f=document.querySelectorAll(".header__bvi");Array.from(p).forEach((e=>{let t=document.querySelector(".popup--consultation");e.addEventListener("click",(e=>s(t)))})),c.addEventListener("click",(e=>{e.target.closest(".submenu__backdrop")?(u.className="header__submenu header__submenu--close",u.firstElementChild.addEventListener("transitionend",(()=>{r(),u.classList.remove("header__submenu--close")}),{once:!0})):e.target.closest(".header__submenu")||(u.classList.contains("header__submenu--open")?(u.className="header__submenu header__submenu--close",u.firstElementChild.addEventListener("transitionend",(()=>{r(),u.classList.remove("header__submenu--close")}),{once:!0})):u.classList.contains("header__submenu--close")||(t(),u.classList.add("header__submenu--open")))})),l.addEventListener("click",(()=>{l.classList.contains("header__burger--open")?(r(),Array.from(d.querySelectorAll(".menu__list--submenu-open")).forEach((e=>{e.classList.remove("menu__list--submenu-open")})),Array.from(d.querySelectorAll(".menu--open")).forEach((e=>{e.classList.remove("menu--open")}))):(t(),window.scrollTo(0,0)),l.classList.toggle("header__burger--open"),d.classList.toggle("menu--open")})),d.addEventListener("click",(e=>{if(e.target.closest(".menu__list"))return 3===e.target.closest(".menu__item").childElementCount?e.target.closest(".menu__back-button")?(e.target.closest(".menu--open").classList.remove("menu--open"),void e.target.closest(".menu__list").classList.remove("menu__list--submenu-open")):(e.preventDefault(),e.target.closest(".menu__list").classList.add("menu__list--submenu-open"),void e.target.closest(".menu__item").querySelector(".menu").classList.add("menu--open")):void 0})),window.matchMedia("(max-width: 1280px)").addEventListener("change",(e=>{!e.matches&&l.classList.contains("header__burger--open")&&(Array.from(document.querySelectorAll(".submenu.menu--open")).forEach((e=>e.classList.remove("menu--open"))),d.querySelector(".menu__list--submenu-open")?.classList.remove("menu__list--submenu-open"),d.classList.remove("menu--open"),l.classList.remove("header__burger--open"))})),Array.from(m).forEach((e=>e.addEventListener("click",(e=>{s(i)})))),Array.from(f).forEach((e=>e.addEventListener("click",(e=>{new isvek.Bvi({fontSize:28,theme:"brown"})})))),Array.from(document.querySelectorAll(".hero__call-doctor, .hero__button")).forEach((t=>{t.addEventListener("click",(t=>{s(e)}))}));let _=document.querySelector(".our-doctors .swiper-wrapper");_&&_.addEventListener("click",(e=>{e.target.closest(".doctor")&&s(document.querySelector(".popup--doctor"))}));let v=document.querySelector(".our-transport .swiper-wrapper");v&&v.addEventListener("click",(e=>{if(!e.target.closest(".transport"))return;let t=document.querySelector(".popup--gallery"),r=e.target.closest("img").getAttribute("src");t.querySelector("img").setAttribute("src",r),s(t)}));const w=document.querySelector(".our-advantages__about-more");w&&w.addEventListener("click",(t=>s(e)));const g=document.querySelector(".faq__make-question button");if(g&&g.addEventListener("click",(t=>s(e))),document.querySelectorAll(".accordion__header").forEach((e=>{let t;e.addEventListener("click",(r=>{const s=e.parentElement,o=e.nextElementSibling,n=o.firstElementChild;if(s.classList.contains("accordion--open")){let e=o.scrollHeight;o.style.height=e+"px",s.classList.remove("accordion--open"),t=setTimeout((()=>o.style.height=""))}else clearTimeout(t),t=null,s.classList.add("accordion--open"),o.style.height=n.offsetHeight+"px",o.addEventListener("transitionend",(()=>{t||(o.style.height="auto")}),{once:!0})}))})),document.querySelector(".article")){const M=document.querySelector(".article"),P=M.querySelector(".article__text"),V=M.querySelector(".article__more"),H=parseFloat(getComputedStyle(P).maxHeight);function C(e){const t=e.querySelector("span"),r=e.classList[1];e.classList.contains(r+"--open")?(e.classList.remove(r+"--open"),t.innerHTML="Читать полностью"):(e.classList.add(r+"--open"),t.innerHTML="Свернуть текст")}function N(e){const t=e.classList[1],r=P,s=V;r.offsetHeight<r.scrollHeight?!e.classList.contains(t+"--hide")&&e.classList.add(t+"--hide"):e.classList.contains(t+"--open")?r.offsetHeight<=H&&(e.classList.remove(`${t}--hide`),e.classList.remove(`${t}--open`),s.querySelector("span").innerHTML="Читать полностью"):e.classList.remove(`${t}--hide`)}N(M),V.addEventListener("click",(()=>C(M))),window.addEventListener("resize",(()=>{N(M)}))}const h=document.querySelector(".help-when__case a");h&&h.addEventListener("click",(e=>{let t=document.querySelector(".popup--cases");e.preventDefault(),s(t)}));let y=new IntersectionObserver(((e,t)=>{e.forEach((e=>{const r=e.target,s=r.querySelector("[data-digit-counter]");var o;s&&(o=s)&&function(e){let t=null;const r=parseInt(e.innerHTML),s=o=>{t||(t=o);const n=Math.min((o-t)/1200,1);e.innerHTML=Math.floor(n*r),n<1&&window.requestAnimationFrame(s)};window.requestAnimationFrame(s)}(o),e.isIntersecting&&t.unobserve(r)}))}),{threshold:.3});const b=document.querySelectorAll(".our-advantages__about-col:last-child .stat");b.length&&Array.from(b).forEach((e=>y.observe(e)));let L=document.querySelector(".certificates .swiper-wrapper");if(L&&L.addEventListener("click",(e=>{if(!e.target.closest(".certificate__image-wrapper"))return;let t=document.querySelector(".popup--gallery"),r=e.target.closest("img").getAttribute("src");t.querySelector("img").setAttribute("src",r),s(t)})),document.querySelector(".tab")){let I=document.querySelector(".tab__panel");const j=document.querySelector(".tab__head"),$=I.nextElementSibling;I.addEventListener("click",(e=>{if(e.target.closest(".tab__head")&&I.classList.toggle("tab__panel--open"),!e.target.closest(".tab__button"))return;const t=e.target.closest(".tab__button");I.querySelector(".tab__button--active").classList.remove("tab__button--active"),t.classList.add("tab__button--active"),j.querySelector("span").innerHTML=t.innerHTML,I.classList.remove("tab__panel--open"),$.querySelector(".tab__page--active").classList.remove("tab__page--active"),$.querySelector(".prices__services--"+t.dataset.category).classList.add("tab__page--active")}))}document.querySelector(".breadcrumbs")&&Array.from(document.querySelectorAll(".breadcrumbs__item:not(:first-child)")).forEach((e=>{e.insertAdjacentHTML("afterbegin",'\n                    <span style="display:flex">\n                        <svg width="4" height="8">\n                            <use xlink:href="#arrow"></use>\n                        </svg>\n                        <svg width="4" height="8">\n                            <use xlink:href="#arrow"></use>\n                        </svg>\n                    </span>\n                ')}));const S=document.querySelector(".footer"),q=S.querySelector(".footer__menu"),E=window.matchMedia("(max-width: 768px)");if(q.addEventListener("click",(e=>{let t=e.target;t.closest(".column--main")||E.matches&&t.closest(".column__header")&&t.closest(".column").classList.toggle("column--open")})),E.addEventListener("change",(e=>{if(e.matches){let e=S.querySelectorAll(".column--open");Array.from(e).forEach((e=>e.classList.remove("column--open")))}})),window.LocomotiveScroll){let Z=new LocomotiveScroll;if(document.querySelector(".content__nav")){const D=document.querySelector(".content__nav"),F=document.querySelectorAll(".content__column > div");let z=0,W=0,Y=null;Array.from(F).forEach(((e,t)=>{D.querySelector(".nav__menu").insertAdjacentHTML("beforeend",`\n                    <li class="nav__menu-item ${0===t?"nav__menu-item--active":""}">\n                        <a href="#${e.getAttribute("id")} " class="nav__menu-link">${e.querySelector("h2").innerHTML}</a>\n                    </li>\n                `)})),Y=D.querySelectorAll(".nav__menu-link"),D.addEventListener("click",(e=>{window.matchMedia("(max-width: 992px").matches&&e.target.closest(".nav__head")&&e.target.closest(".nav").classList.toggle("nav--open")})),Array.from(Y).forEach((e=>{let t=e.getAttribute("href");const r=document.getElementById(t.slice(1));e.addEventListener("click",(e=>{e.preventDefault(),e.target.closest(".nav--open")?.classList.remove("nav--open"),Z.scrollTo(r,{offset:-100,duration:800})}))})),window.addEventListener("scroll",(()=>{let e=window.pageYOffset;if(e>z){if(W===F.length-1)return;e>=F[W+1].offsetTop-window.innerHeight/2&&(Y[W].parentElement.classList.remove("nav__menu-item--active"),Y[W+1].parentElement.classList.add("nav__menu-item--active"),W+=1)}else{if(0===W)return;F[W].offsetTop-window.innerHeight/2>=e&&(Y[W].parentElement.classList.remove("nav__menu-item--active"),Y[W-1].parentElement.classList.add("nav__menu-item--active"),W-=1),1==W&&e<=30&&(Y[W].parentElement.classList.remove("nav__menu-item--active"),Y[W-1].parentElement.classList.add("nav__menu-item--active"),W-=1)}z=e}))}if(document.querySelector("section.prices")){const R=document.querySelector(".prices__content .tab__content"),G=document.querySelector(".back-call"),J=G.querySelector("input[name='service-name']");R.addEventListener("click",(e=>{window.innerWidth<=768?e.target.closest(".service")&&(J.value=e.target.closest(".service").querySelector(".service__name").innerHTML,Z.scrollTo(G,{offset:-50,duration:500})):e.target.closest(".service__button")&&(J.value=e.target.closest(".service").querySelector(".service__name").innerHTML,Z.scrollTo(G,{offset:-50,duration:500}))}))}}if(window.Fancybox){Fancybox.bind("[data-fancybox]",{});let Q=document.querySelectorAll("[data-fancybox-youtube]");Array.from(Q).forEach((e=>{let t=!(!(r=e.getAttribute("href").match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/))||11!=r[7].length)&&r[7];var r;e.querySelector("img").setAttribute("src",`https://img.youtube.com/vi/${t}/hqdefault.jpg`)}))}if(window.Swiper){new Swiper(".doctor-card__certificates-swiper",{slidesPerView:4,slidesPerView:"auto",spaceBetween:12,observeParents:!0,observeSlideChildren:!0,observer:!0,watchOverflow:!0,breakpoints:{768:{slidesPerView:4},993:{slidesPerView:"auto"}}}),new Swiper(".hero__swiper",{slidesPerView:1,speed:800,loop:!0,parallax:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev",hideOnClick:!0},pagination:{el:".swiper-pagination",clickable:!0}});let X=null,K=window.matchMedia("(max-width: 992px");const U=e=>{e.matches?X=new Swiper(".services__swiper",{slidesPerView:"auto",spaceBetween:10,slidesOffsetBefore:20,slidesOffsetAfter:20,breakpoints:{769:{spaceBetween:15}}}):X?.destroy()};K.addEventListener("change",U),U(K),new Swiper(".our-doctors__swiper",{slidesPerView:"auto",spaceBetween:10,slidesOffsetBefore:20,slidesOffsetAfter:20,breakpoints:{769:{slidesPerView:3,spaceBetween:15,slidesOffsetBefore:0,slidesOffsetAfter:0},1280:{slidesPerView:4,slidesOffsetBefore:0,slidesOffsetAfter:0}},navigation:{nextEl:".our-doctors .swiper-button-next",prevEl:".our-doctors .swiper-button-prev"}}),new Swiper(".our-transport__swiper",{slidesPerView:"auto",spaceBetween:10,slidesOffsetBefore:20,slidesOffsetAfter:20,breakpoints:{769:{slidesPerView:2,spaceBetween:15,slidesOffsetBefore:0,slidesOffsetAfter:0},992:{slidesPerView:2.5,slidesOffsetBefore:0,slidesOffsetAfter:0},1280:{slidesPerView:3,slidesOffsetBefore:0,slidesOffsetAfter:0}},navigation:{nextEl:".our-transport .swiper-button-next",prevEl:".our-transport .swiper-button-prev"}}),new Swiper(".help-how__steps",{slidesPerView:"auto",slidesOffsetAfter:20,slidesOffsetBefore:20,spaceBetween:4,breakpoints:{993:{slidesPerView:3,slidesOffsetAfter:0,slidesOffsetBefore:0},1280:{slidesPerView:4,slidesOffsetAfter:0,slidesOffsetBefore:0}}}),new Swiper(".our-advantages__about-swiper",{slidesPerView:"auto",spaceBetween:10,slidesOffsetAfter:20,slidesOffsetBefore:20,observeParents:!0,observeSlideChildren:!0,observer:!0}),new Swiper(".reviews__swiper",{slidesPerView:"auto",spaceBetween:20,centeredSlides:!0,speed:580,breakpoints:{768:{slidesPerView:1}},navigation:{nextEl:".reviews .swiper-button-next",prevEl:".reviews .swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0}}),new Swiper(".certificates__swiper",{slidesPerView:"auto",spaceBetween:4,breakpoints:{992:{slidesPerView:"auto"}},navigation:{nextEl:".certificates .swiper-button-next",prevEl:".certificates .swiper-button-prev"}}),new Swiper(".about__swiper",{slidesPerView:1.4,slidesOffsetAfter:20,slidesOffsetBefore:20,spaceBetween:10,breakpoints:{577:{slidesPerView:2,slidesOffsetAfter:0,slidesOffsetBefore:0},768:{slidesPerView:2.35},992:{slidesPerView:5,spaceBetween:0}}}),new Swiper(".values__swiper",{slidesPerView:"auto",spaceBetween:4,breakpoints:{768:{slidesPerView:2.25},993:{slidesPerView:3},1360:{slidesPerView:4}}})}const A=document.querySelectorAll(".form__input"),k=document.querySelectorAll(".form__input[name='phone']"),x=document.querySelectorAll(".form__input[name='name']"),O="form__control";Array.from(A).forEach((e=>{let t=e.closest("."+O);e.addEventListener("input",(()=>{t.classList.contains(O+"--error")&&t.classList.remove(O+"--error")})),e.addEventListener("change",(()=>{""!==e.value.trim()?t.classList.add("form__control--filled"):t.classList.remove("form__control--filled")}))})),Array.from(k).forEach((e=>{e.addEventListener("keypress",(e=>{const t=e.target.value.length;if(e.charCode<48||e.charCode>57||t>17)e.preventDefault();else switch(t){case 0:e.target.value="+7 (";break;case 7:e.target.value+=")-";break;case 12:case 15:e.target.value+="-"}})),e.addEventListener("input",(e=>{3===e.target.value.length&&(e.target.value="")}))})),Array.from(x).forEach((e=>{e.addEventListener("keypress",(e=>{e.target.value.length,e.charCode>=48&&e.charCode<=57&&e.preventDefault()}))}));for(let ee=0;ee<document.forms.length;ee++)document.forms[ee].addEventListener("submit",(e=>{e.preventDefault(),n(e.target)}));document.querySelector(".form__file-input")?.addEventListener("change",(e=>{if(e.target.files[0].size>104857600)return void alert("Размер файла не должен превышать 30 MB");const t=e.target.closest(".form__file");t.querySelector(".form__file-doc .text").innerHTML=e.target.files[0].name,t.classList.add("form__file_attached"),t.querySelector(".form__file-doc button").addEventListener("click",(()=>{e.target.value="",t.classList.remove("form__file_attached")}),{once:!0})}));let T=document.querySelector(".popup__cities"),B=i.querySelectorAll(".popup__city");i.querySelector(".form__input").addEventListener("input",(e=>{let t=Array.from(B).filter((t=>-1!==t.querySelector("span").innerHTML.toLowerCase().indexOf(e.target.value.toLowerCase())));T.innerHTML="",t.length?t.forEach((e=>T.insertAdjacentElement("beforeend",e))):T.innerHTML="\n                <div>По вашему запросу ничего не найдено</div>\n            "})),T.addEventListener("click",(e=>{if(!e.target.closest(".popup__city"))return;let t=e.target.closest(".popup__city");T.querySelector(".popup__city--active").classList.remove("popup__city--active"),t.classList.add("popup__city--active"),o(),m[0].querySelector(".header__location-title").innerHTML=t.querySelector("span").innerHTML})),document.querySelectorAll(".popup__close").forEach((e=>{let t=e.closest(".popup");e.addEventListener("click",(()=>o(t)))})),document.querySelectorAll(".popup").forEach((e=>e.addEventListener("click",(t=>{t.target.closest(".popup__content")||o(e)})))),document.addEventListener("keydown",(e=>{27===e.which&&o()})),window.mapboxgl&&function(e){let t=document.getElementById(e),r=t?.dataset.center?.split(",").map(Number)||[49.123356,55.782238];mapboxgl.accessToken="pk.eyJ1Ijoic2V2YS1hYWNjZW50IiwiYSI6ImNsd3lubWViZTFwMDAycXNhbm4yN3p4am0ifQ.puvbO9AAr4Jf8ude29ST7g";const s=new mapboxgl.Map({container:e,style:"mapbox://styles/mapbox/light-v11",center:r,zoom:12,dragRotate:!1,cooperativeGestures:!0,locale:{"ScrollZoomBlocker.CtrlMessage":"ctrl + scroll для увеличения масштаба карты","ScrollZoomBlocker.CmdMessage":"⌘ + scroll для увеличения масштаба карты","TouchPanBlocker.Message":"Используйте два пальца чтобы подвинуть карту","NavigationControl.ZoomIn":"Увеличить","NavigationControl.ZoomOut":"Уменьшить"}});!async function(){setTimeout((()=>{!function(){t?.dataset.mark?.split(",").map(Number);let e=document.createElement("div");e.insertAdjacentHTML("beforeend",'<img src="images/map-marker.svg" alt="">'),new mapboxgl.Marker(e).setLngLat(r).addTo(s)}()}),2e3)}()}("map")}})();
//# sourceMappingURL=app.min.js.map