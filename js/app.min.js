/*! For license information please see app.min.js.LICENSE.txt */
(()=>{"use strict";(e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})})({});const e=null;function t(){let t=window.innerWidth-document.documentElement.clientWidth;e&&t&&(e.style.paddingRight=t+"px"),document.body.classList.add("_lock")}function r(){e&&(e.style.paddingRight=""),document.body.classList.remove("_lock")}function s(e=void 0){t(),e?e.classList.add("popup--open"):console.log("Give me a popup")}function n(){let e=document.querySelector(".popup--open");e.classList.remove("popup--open"),e.addEventListener("transitionend",(()=>{document.querySelector(".header__burger--open")||document.querySelector(".header__submenu--open")||r()}),{once:!0})}function o(e){const t=e.querySelectorAll("[class$='input--required']");let r=0;for(let n=0;n<t.length;n++){"name"===t[n].getAttribute("name")&&""===t[n].value.trim()&&(t[n].closest(".form__control").classList.add("form__control--error"),r++),"phone"===t[n].getAttribute("name")&&(""===t[n].value.trim()||t[n].value.length<18)&&(t[n].closest(".form__control").classList.add("form__control--error"),r++);const o=e.querySelector("input[type='email']");"mail"===t[n].getAttribute("name")&&(""===t[n].value.trim()||""!==t[n].value.trim&&(s=o.value,!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(s).toLowerCase())))&&(t[n].closest(".form__control").classList.add("form__control--error"),r++)}var s;r?console.log("Fill req fields"):(e.classList.add("form--sending"),e.querySelectorAll("input, textarea").forEach((e=>e.disabled=!0)),setTimeout((()=>{!function(e){e.reset(),e.classList.remove("form--sending"),e.querySelectorAll(".form__control").forEach((e=>e.className="form__control")),e.querySelectorAll("input, textarea").forEach((e=>e.disabled=!1))}(e)}),200))}window.onload=function(){let e=document.querySelector(".popup--call-doctor");const i=document.querySelector(".header"),l=i.querySelector(".header__burger"),a=i.querySelector(".header__menu-item--services"),c=a.querySelector(".header__submenu"),u=i.querySelector(".header__menu--mobile"),d=i.querySelectorAll(".header__button"),m=document.querySelectorAll(".header__menu-item--prices, .header__menu-item--stocks, .column__menu-item--prices, .column__menu-item--stocks, .menu__item--stocks, .menu__item--prices");Array.from(m).forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault(),s(e)}))})),Array.from(d).forEach((e=>{let t=document.querySelector(".popup--consultation");e.addEventListener("click",(e=>s(t)))})),c.addEventListener("click",(t=>{t.target.closest(".submenu__service-link")&&(t.preventDefault(),s(e))})),a.addEventListener("click",(e=>{e.target.closest(".submenu__backdrop")?(c.className="header__submenu header__submenu--close",c.firstElementChild.addEventListener("transitionend",(()=>{r(),c.classList.remove("header__submenu--close")}),{once:!0})):e.target.closest(".header__submenu")||(c.classList.contains("header__submenu--open")?(c.className="header__submenu header__submenu--close",c.firstElementChild.addEventListener("transitionend",(()=>{r(),c.classList.remove("header__submenu--close")}),{once:!0})):c.classList.contains("header__submenu--close")||(t(),c.classList.add("header__submenu--open")))})),l.addEventListener("click",(()=>{l.classList.contains("header__burger--open")?(r(),Array.from(u.querySelectorAll(".menu__list--submenu-open")).forEach((e=>{e.classList.remove("menu__list--submenu-open")})),Array.from(u.querySelectorAll(".menu--open")).forEach((e=>{e.classList.remove("menu--open")}))):(t(),window.scrollTo(0,0)),l.classList.toggle("header__burger--open"),u.classList.toggle("menu--open")})),u.addEventListener("click",(t=>{let r=3===t.target.closest(".menu__item").childElementCount;return 1===t.target.closest(".menu__item").childElementCount&&t.target.closest(".menu__submenu")?(t.preventDefault(),void s(e)):r?t.target.closest(".menu__back-button")?(t.target.closest(".menu--open").classList.remove("menu--open"),void t.target.closest(".menu__list").classList.remove("menu__list--submenu-open")):(t.preventDefault(),t.target.closest(".menu__list").classList.add("menu__list--submenu-open"),void t.target.closest(".menu__item").querySelector(".menu").classList.add("menu--open")):void 0})),window.matchMedia("(max-width: 1280px)").addEventListener("change",(e=>{!e.matches&&l.classList.contains("header__burger--open")&&(Array.from(document.querySelectorAll(".submenu.menu--open")).forEach((e=>e.classList.remove("menu--open"))),u.querySelector(".menu__list--submenu-open")?.classList.remove("menu__list--submenu-open"),u.classList.remove("menu--open"),l.classList.remove("header__burger--open"))})),Array.from(document.querySelectorAll(".hero-slide__call-doctor")).forEach((t=>{t.addEventListener("click",(t=>{s(e)}))}));let _=document.querySelector(".services__list");_&&_.addEventListener("click",(t=>{t.target.closest(".services__service-item")&&(t.preventDefault(),s(e))}));let p=document.querySelector(".our-transport .swiper-wrapper");p&&p.addEventListener("click",(e=>{if(!e.target.closest(".transport"))return;let t=document.querySelector(".popup--gallery"),r=e.target.closest("img").getAttribute("src");t.querySelector("img").setAttribute("src",r),s(t)}));const f=document.querySelector(".our-advantages__about-more");f&&f.addEventListener("click",(t=>s(e)));const v=document.querySelector(".faq__make-question button");if(v&&v.addEventListener("click",(t=>s(e))),document.querySelectorAll(".accordion__header").forEach((e=>{let t;e.addEventListener("click",(r=>{const s=e.parentElement,n=e.nextElementSibling,o=n.firstElementChild;if(s.classList.contains("accordion--open")){let e=n.scrollHeight;n.style.height=e+"px",s.classList.remove("accordion--open"),t=setTimeout((()=>n.style.height=""))}else clearTimeout(t),t=null,s.classList.add("accordion--open"),n.style.height=o.offsetHeight+"px",n.addEventListener("transitionend",(()=>{t||(n.style.height="auto")}),{once:!0})}))})),document.querySelector(".article")){const x=document.querySelector(".article"),O=x.querySelector(".article__text"),P=x.querySelector(".article__more"),B=parseFloat(getComputedStyle(O).maxHeight);function V(e){const t=e.querySelector("span"),r=e.classList[1];e.classList.contains(r+"--open")?(e.classList.remove(r+"--open"),t.innerHTML="Читать полностью"):(e.classList.add(r+"--open"),t.innerHTML="Свернуть текст")}function T(e){const t=e.classList[1],r=O,s=P;r.offsetHeight<r.scrollHeight?!e.classList.contains(t+"--hide")&&e.classList.add(t+"--hide"):e.classList.contains(t+"--open")?r.offsetHeight<=B&&(e.classList.remove(`${t}--hide`),e.classList.remove(`${t}--open`),s.querySelector("span").innerHTML="Читать полностью"):e.classList.remove(`${t}--hide`)}T(x),P.addEventListener("click",(()=>V(x))),window.addEventListener("resize",(()=>{T(x)}))}const w=document.querySelector(".help-when__case a");w&&w.addEventListener("click",(e=>{let t=document.querySelector(".popup--cases");e.preventDefault(),s(t)}));let h=new IntersectionObserver(((e,t)=>{e.forEach((e=>{const r=e.target,s=r.querySelector("[data-digit-counter]");var n;s&&(n=s)&&function(e){let t=null;const r=parseInt(e.innerHTML),s=n=>{t||(t=n);const o=Math.min((n-t)/1200,1);e.innerHTML=Math.floor(o*r),o<1&&window.requestAnimationFrame(s)};window.requestAnimationFrame(s)}(n),e.isIntersecting&&t.unobserve(r)}))}),{threshold:.3});const g=document.querySelectorAll(".our-advantages__about-col:last-child .stat");g.length&&Array.from(g).forEach((e=>h.observe(e)));let b=document.querySelector(".certificates .swiper-wrapper");if(b&&b.addEventListener("click",(e=>{if(!e.target.closest(".certificate__image-wrapper"))return;let t=document.querySelector(".popup--gallery"),r=e.target.closest("img").getAttribute("src");t.querySelector("img").setAttribute("src",r),s(t)})),document.querySelector(".tab")){let M=document.querySelector(".tab__panel");const H=document.querySelector(".tab__head"),C=M.nextElementSibling;M.addEventListener("click",(e=>{if(e.target.closest(".tab__head")&&M.classList.toggle("tab__panel--open"),!e.target.closest(".tab__button"))return;const t=e.target.closest(".tab__button");M.querySelector(".tab__button--active").classList.remove("tab__button--active"),t.classList.add("tab__button--active"),H.querySelector("span").innerHTML=t.innerHTML,M.classList.remove("tab__panel--open"),C.querySelector(".tab__page--active").classList.remove("tab__page--active"),C.querySelector(".prices__services--"+t.dataset.category).classList.add("tab__page--active")}))}const y=document.querySelector(".footer"),L=y.querySelector(".footer__menu"),S=window.matchMedia("(max-width: 768px)");if(L.addEventListener("click",(t=>{let r=t.target;r.closest(".column--main")||(S.matches&&r.closest(".column__header")&&r.closest(".column").classList.toggle("column--open"),r.closest(".column__menu-link")&&(t.preventDefault(),s(e)))})),S.addEventListener("change",(e=>{if(e.matches){let e=y.querySelectorAll(".column--open");Array.from(e).forEach((e=>e.classList.remove("column--open")))}})),window.LocomotiveScroll){let D=new LocomotiveScroll,I=document.querySelectorAll(".header__menu-item--contacts a, .column__menu-item--contacts, .menu__item--contacts"),N=document.querySelector("section.call-us"),F=document.querySelectorAll(".header__menu-item--about, .column__menu-item--about, .menu__item--about"),$=document.querySelector("section.our-advantages"),j=document.querySelectorAll(".header__menu-item--reviews, .column__menu-item--reviews, .menu__item--reviews"),z=document.querySelector("section.about-us");function W(e,t){Array.from(e).forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),u.classList.contains("menu--open")?(u.classList.remove("menu--open"),l.classList.remove("header__burger--open"),r(),u.addEventListener("transitionend",(()=>{D.scrollTo(t,{duration:800})}),{once:!0})):D.scrollTo(t,{duration:800})}))}))}let Y=document.querySelector(".content__nav").querySelectorAll(".nav__menu-link"),Z=document.querySelectorAll(".content .content__block"),J=0,R=0;Y.forEach((e=>{let t=e.getAttribute("href");const r=document.getElementById(t.slice(1));e.addEventListener("click",(e=>{e.preventDefault(),D.scrollTo(r,{offset:-100,duration:800})}))})),window.addEventListener("scroll",(()=>{let e=window.pageYOffset;if(e>J){if(R===Z.length-1)return;e>=Z[R+1].offsetTop-window.innerHeight/2&&(Y[R].parentElement.classList.remove("nav__menu-item--active"),Y[R+1].parentElement.classList.add("nav__menu-item--active"),R+=1)}else{if(0===R)return;Z[R].offsetTop-window.innerHeight/2>=e&&(Y[R].parentElement.classList.remove("nav__menu-item--active"),Y[R-1].parentElement.classList.add("nav__menu-item--active"),R-=1),1==R&&e<=30&&(Y[R].parentElement.classList.remove("nav__menu-item--active"),Y[R-1].parentElement.classList.add("nav__menu-item--active"),R-=1)}J=e})),W(I,N),W(F,$),W(j,z)}if(window.Fancybox){Fancybox.bind("[data-fancybox]",{});let G=document.querySelectorAll("[data-fancybox-youtube]");Array.from(G).forEach((e=>{let t=!(!(r=e.getAttribute("href").match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/))||11!=r[7].length)&&r[7];var r;e.querySelector("img").setAttribute("src",`https://img.youtube.com/vi/${t}/hqdefault.jpg`)}))}if(window.Swiper){new Swiper(".hero__swiper",{slidesPerView:1,speed:800,loop:!0,parallax:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev",hideOnClick:!0},pagination:{el:".swiper-pagination",clickable:!0}});let Q=null,X=window.matchMedia("(max-width: 992px");const K=e=>{e.matches?Q=new Swiper(".services__swiper",{slidesPerView:"auto",spaceBetween:10,slidesOffsetBefore:20,slidesOffsetAfter:20,breakpoints:{769:{spaceBetween:15}}}):Q?.destroy()};X.addEventListener("change",K),K(X),new Swiper(".our-doctors__swiper",{slidesPerView:"auto",spaceBetween:10,slidesOffsetBefore:20,slidesOffsetAfter:20,breakpoints:{769:{slidesPerView:3,spaceBetween:15,slidesOffsetBefore:0,slidesOffsetAfter:0},1280:{slidesPerView:4,slidesOffsetBefore:0,slidesOffsetAfter:0}},navigation:{nextEl:".our-doctors .swiper-button-next",prevEl:".our-doctors .swiper-button-prev"}}),new Swiper(".our-transport__swiper",{slidesPerView:"auto",spaceBetween:10,slidesOffsetBefore:20,slidesOffsetAfter:20,breakpoints:{769:{slidesPerView:2,spaceBetween:15,slidesOffsetBefore:0,slidesOffsetAfter:0},992:{slidesPerView:2.5,slidesOffsetBefore:0,slidesOffsetAfter:0},1280:{slidesPerView:3,slidesOffsetBefore:0,slidesOffsetAfter:0}},navigation:{nextEl:".our-transport .swiper-button-next",prevEl:".our-transport .swiper-button-prev"}}),new Swiper(".help-how__steps",{slidesPerView:"auto",slidesOffsetAfter:20,slidesOffsetBefore:20,spaceBetween:4,breakpoints:{993:{slidesPerView:3,slidesOffsetAfter:0,slidesOffsetBefore:0},1280:{slidesPerView:4,slidesOffsetAfter:0,slidesOffsetBefore:0}}}),new Swiper(".our-advantages__about-swiper",{slidesPerView:"auto",spaceBetween:10,observeParents:!0,observeSlideChildren:!0,observer:!0}),new Swiper(".reviews__swiper",{slidesPerView:"auto",spaceBetween:20,centeredSlides:!0,speed:580,breakpoints:{768:{slidesPerView:1}},navigation:{nextEl:".reviews .swiper-button-next",prevEl:".reviews .swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0}}),new Swiper(".certificates__swiper",{slidesPerView:"auto",spaceBetween:4,breakpoints:{992:{slidesPerView:"auto"}},navigation:{nextEl:".certificates .swiper-button-next",prevEl:".certificates .swiper-button-prev"}}),new Swiper(".about__swiper",{slidesPerView:1.4,spaceBetween:10,breakpoints:{576:{slidesPerView:2},768:{slidesPerView:2.35},992:{slidesPerView:5,spaceBetween:0}}}),new Swiper(".values__swiper",{slidesPerView:"auto",spaceBetween:4,breakpoints:{768:{slidesPerView:2.25},993:{slidesPerView:3},1360:{slidesPerView:4}}})}const E=document.querySelectorAll(".form__input"),q=document.querySelectorAll(".form__input[name='phone']"),A=document.querySelectorAll(".form__input[name='name']"),k="form__control";Array.from(E).forEach((e=>{let t=e.closest("."+k);e.addEventListener("input",(()=>{t.classList.contains(k+"--error")&&t.classList.remove(k+"--error")})),e.addEventListener("change",(()=>{""!==e.value.trim()?t.classList.add("form__control--filled"):t.classList.remove("form__control--filled")}))})),Array.from(q).forEach((e=>{e.addEventListener("keypress",(e=>{const t=e.target.value.length;if(e.charCode<48||e.charCode>57||t>17)e.preventDefault();else switch(t){case 0:e.target.value="+7 (";break;case 7:e.target.value+=")-";break;case 12:case 15:e.target.value+="-"}})),e.addEventListener("input",(e=>{3===e.target.value.length&&(e.target.value="")}))})),Array.from(A).forEach((e=>{e.addEventListener("keypress",(e=>{e.target.value.length,e.charCode>=48&&e.charCode<=57&&e.preventDefault()}))}));for(let U=0;U<document.forms.length;U++)document.forms[U].addEventListener("submit",(e=>{e.preventDefault(),o(e.target)}));document.querySelector(".form__file-input")?.addEventListener("change",(e=>{if(e.target.files[0].size>104857600)return void alert("Размер файла не должен превышать 30 MB");const t=e.target.closest(".form__file");t.querySelector(".form__file-doc .text").innerHTML=e.target.files[0].name,t.classList.add("form__file_attached"),t.querySelector(".form__file-doc button").addEventListener("click",(()=>{e.target.value="",t.classList.remove("form__file_attached")}),{once:!0})})),document.querySelectorAll(".popup__close").forEach((e=>e.addEventListener("click",n))),document.querySelectorAll(".popup").forEach((e=>e.addEventListener("click",(e=>{e.target.closest(".popup__content")||n()})))),document.addEventListener("keydown",(e=>{27===e.which&&n()})),window.mapboxgl&&function(e){let t=document.getElementById(e),r=t?.dataset.center?.split(",").map(Number)||[49.123356,55.782238];mapboxgl.accessToken="pk.eyJ1Ijoic2V2YS1hYWNjZW50IiwiYSI6ImNsd3lubWViZTFwMDAycXNhbm4yN3p4am0ifQ.puvbO9AAr4Jf8ude29ST7g",new mapboxgl.Map({container:e,center:r,zoom:12}),t.dataset}("map")}})();
//# sourceMappingURL=app.min.js.map